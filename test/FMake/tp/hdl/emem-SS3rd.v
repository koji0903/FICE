/* ------------------------------------------------------------------------------------	*/
/* Version : SS3rd Ver100								*/
/* Date    : 2010.01.13									*/
/* Designer: Tomonori Tsunoda								*/
/* Note    : emem.vから流用。								*/
/*         : -ICEFLMOD,TBTSELIN,TBTSELOUT端子を削除.					*/
/*         : -BTFLG,TMSPMD,TMBTSEL,SSAP,ICETMSPMD,ICETMBTSEL,RESB端子を追加.		*/
/* ------------------------------------------------------------------------------------	*/
/* Version : SS3rd Ver101								*/
/* Date    : 2010.02.04									*/
/* Designer: Tomonori Tsunoda								*/
/* Note    : BRSAM端子を追加.								*/
/* ------------------------------------------------------------------------------------	*/
/* Version : SS3rd Ver102								*/
/* Date    : 2010.02.15									*/
/* Designer: DeviceのRAMガード機能のEmulationの為,GDRAMWR信号を追加.			*/
/* ------------------------------------------------------------------------------------	*/
/* Version : SS3rd Ver103								*/
/* Date    : 2010.04.12									*/
/* Designer: Tomonori Tsunoda								*/
/* Note    : ICEFLSPMD端子を削除.							*/
/* ------------------------------------------------------------------------------------	*/
/* Version : SS3rd Ver104                                                               */
/* Date    : 2011.01.26                                                                 */
/* Designer: Tomoniri Tsunoda                                                           */
/* Note    : added ememramclk pin to ememram(ram/altram) for Skew tuning between CPU    */
/*         : and ememram/ememaltram.                                                    */
/* ------------------------------------------------------------------------------------ */
// $Id: emem-SS3rd.v,v 1.4 2010-04-12 12:07:49 tsuno3 Exp $
module EVA_EMEM(
	//----- emulation memmory I/F -----
	EROMRDB, EROMWRB, EROMCSB, EROMCLK,
	EROMPA17, EROMPA16, EROMPA15, EROMPA14, EROMPA13,
	EROMPA12, EROMPA11, EROMPA10, EROMPA9, EROMPA8, EROMPA7, EROMPA6,
	EROMPA5, EROMPA4, EROMPA3, EROMPA2, EROMPA1, EROMPA0,
	EROMPD31, EROMPD30, EROMPD29, EROMPD28, EROMPD27, EROMPD26, EROMPD25,
	EROMPD24, EROMPD23, EROMPD22, EROMPD21, EROMPD20, EROMPD19, EROMPD18,
	EROMPD17, EROMPD16, EROMPD15, EROMPD14, EROMPD13, EROMPD12, EROMPD11,
	EROMPD10, EROMPD9, EROMPD8, EROMPD7, EROMPD6, EROMPD5, EROMPD4,
	EROMPD3, EROMPD2, EROMPD1, EROMPD0,

	//----- Firm Debug Output -----
	RDCLKP1_OUT, EXA_OUT, WWR_OUT, CER_OUT, SER_OUT, EXER_OUT, MRG00_OUT, MRG01_OUT, MRG10_OUT,
	MRG11_OUT, MRG12_OUT, DIS_OUT, READ_OUT, FCLK_OUT, PROGI_OUT, BFA_OUT,

	//----- HOST I/F -----
	ICEIFA31, ICEIFA30, ICEIFA29, ICEIFA28, ICEIFA27, ICEIFA26, ICEIFA25, ICEIFA24,
	ICEIFA23, ICEIFA22, ICEIFA21, ICEIFA20, ICEIFA19, ICEIFA18, ICEIFA17, ICEIFA16,
	ICEIFA15, ICEIFA14, ICEIFA13, ICEIFA12, ICEIFA11, ICEIFA10, ICEIFA9, ICEIFA8,
	ICEIFA7, ICEIFA6, ICEIFA5, ICEIFA4, ICEIFA3, ICEIFA2, ICEIFA1, ICEIFA0,
	ICEDO31, ICEDO30, ICEDO29, ICEDO28, ICEDO27, ICEDO26, ICEDO25, ICEDO24,
	ICEDO23, ICEDO22, ICEDO21, ICEDO20, ICEDO19, ICEDO18, ICEDO17, ICEDO16,
	ICEDO15, ICEDO14, ICEDO13, ICEDO12, ICEDO11, ICEDO10, ICEDO9, ICEDO8,
	ICEDO7, ICEDO6, ICEDO5, ICEDO4, ICEDO3, ICEDO2, ICEDO1, ICEDO0,
	ICEDI31, ICEDI30, ICEDI29, ICEDI28, ICEDI27, ICEDI26, ICEDI25, ICEDI24,
	ICEDI23, ICEDI22, ICEDI21, ICEDI20, ICEDI19, ICEDI18, ICEDI17, ICEDI16,
	ICEDI15, ICEDI14, ICEDI13, ICEDI12, ICEDI11, ICEDI10, ICEDI9, ICEDI8,
	ICEDI7, ICEDI6, ICEDI5, ICEDI4, ICEDI3, ICEDI2, ICEDI1, ICEDI0,
	ICEWR, EROMWAIT,

	//----- EVA CORE I/F -----
	SVMOD, SVMODF, ALT1, PREFIX,
	SLFLASH, FLREAD,
	PA19, PA18, PA17, PA16, PA15, PA14, PA13, PA12, PA11, PA10, PA9, PA8, PA7, PA6, PA5, PA4, PA3, PA2,
	WAITFL2,
	SLMEM, EXMA3, EXMA2, EXMA1, EXMA0,
	MA15, MA14, MA13, MA12, MA11, MA10, MA9, MA8, MA7, MA6, MA5, MA4, MA3, MA2, MA1, MA0,
	MDW15, MDW14, MDW13, MDW12, MDW11, MDW10, MDW9, MDW8, MDW7, MDW6, MDW5, MDW4, MDW3, MDW2, MDW1, MDW0,
	MEMMDR15, MEMMDR14, MEMMDR13, MEMMDR12, MEMMDR11, MEMMDR10, MEMMDR9, MEMMDR8,
	MEMMDR7, MEMMDR6, MEMMDR5, MEMMDR4, MEMMDR3, MEMMDR2, MEMMDR1, MEMMDR0,
	CPUWR, CPURD, WDOP, WAITMEM,

	//----- FLMA OUTPUT -----
	FLMA15, FLMA14, FLMA13, FLMA12, FLMA11, FLMA10, FLMA9, FLMA8,
	FLMA7, FLMA6, FLMA5, FLMA4, FLMA3, FLMA2, FLMA1, FLMA0,

	//----- SLBMEM I/F -----
	SLBMEM, BRSAM,

	//----- FLSPMD I/F -----
	FLSPMD, 
//	ICEFLSPMD, [SS3rd Ver103] Deleted.

	//----- BSWAP I/F -----
	BTFLG, TMSPMD, TMBTSEL, SWAP, ICETMSPMD, ICETMBTSEL, RESB,

	//----- FLASH I/F -----
	CLKSEL1, RDCLKP1, CE0, CE1, EXA,
	A19, A18, A17, A16, A15, A14, A13, A12, A11, A10, A9, A8, A7, A6, A5, A4, A3, A2,
	RO137, RO136, RO135, RO134, RO133, RO132,
	RO131, RO130, RO129, RO128, RO127, RO126, RO125, RO124,
	RO123, RO122, RO121, RO120, RO119, RO118, RO117, RO116,
	RO115, RO114, RO113, RO112, RO111, RO110, RO19, RO18,
	RO17, RO16, RO15, RO14, RO13, RO12, RO11, RO10,
	RO037, RO036, RO035, RO034, RO033, RO032,
	RO031, RO030, RO029, RO028, RO027, RO026, RO025, RO024,
	RO023, RO022, RO021, RO020, RO019, RO018, RO017, RO016,
	RO015, RO014, RO013, RO012, RO011, RO010, RO09, RO08,
	RO07, RO06, RO05, RO04, RO03, RO02, RO01, RO00, 
	SELRO1,
	CIBPID31, CIBPID30, CIBPID29, CIBPID28, CIBPID27, CIBPID26, CIBPID25, CIBPID24,
	CIBPID23, CIBPID22, CIBPID21, CIBPID20, CIBPID19, CIBPID18, CIBPID17, CIBPID16,
	CIBPID15, CIBPID14, CIBPID13, CIBPID12, CIBPID11, CIBPID10, CIBPID9,  CIBPID8,
	CIBPID7,  CIBPID6,  CIBPID5,  CIBPID4,  CIBPID3,  CIBPID2,  CIBPID1,  CIBPID0,
	CPUPID31, CPUPID30, CPUPID29, CPUPID28, CPUPID27, CPUPID26, CPUPID25, CPUPID24,
	CPUPID23, CPUPID22, CPUPID21, CPUPID20, CPUPID19, CPUPID18, CPUPID17, CPUPID16,
	CPUPID15, CPUPID14, CPUPID13, CPUPID12, CPUPID11, CPUPID10, CPUPID9,  CPUPID8,
	CPUPID7,  CPUPID6,  CPUPID5,  CPUPID4,  CPUPID3,  CPUPID2,  CPUPID1,  CPUPID0,
	EXCH, WWR, CER, SER, MRG00, MRG01, MRG10, MRG11, MRG12, DIS, READ, FCLK, PROGI, WED, BFA,
	DW37, DW36, DW35, DW34, DW33, DW32, DW31, DW30, DW29, DW28, DW27, DW26, DW25,
	DW24, DW23, DW22, DW21, DW20, DW19, DW18, DW17, DW16, DW15, DW14, DW13, DW12, DW11,
	DW10, DW9, DW8, DW7, DW6, DW5, DW4, DW3, DW2, DW1, DW0,
	BEU2, BEU1, BEU0, ICENOECC, ICEFLERR,

	//----- MAA Output -----
	MAAOUT,

	//----- SelfMode & SelfModeDbg Signal Output -----
	SELFMODE,
	SELFMODEDBG,

	//----- SelfMode FailSafe Signal -----
	FLMD0, FAILMK12, BRKFAIL12,

	//----- BFBRK -----
	BFBRKCTL,
	BFBRKPID31, BFBRKPID30, BFBRKPID29, BFBRKPID28, BFBRKPID27, BFBRKPID26, BFBRKPID25, BFBRKPID24,
	BFBRKPID23, BFBRKPID22, BFBRKPID21, BFBRKPID20, BFBRKPID19, BFBRKPID18, BFBRKPID17, BFBRKPID16,
	BFBRKPID15, BFBRKPID14, BFBRKPID13, BFBRKPID12, BFBRKPID11, BFBRKPID10, BFBRKPID9, BFBRKPID8,
	BFBRKPID7, BFBRKPID6, BFBRKPID5, BFBRKPID4, BFBRKPID3, BFBRKPID2, BFBRKPID1, BFBRKPID0,
	
	//----- IAW I/F -----
	GDRAMWR,
	
	//----- OHTER -----
	CPURESETB, SYSRSOUTB, BASECK, CK60MHZ
	, EMEMRAMCLK // [Ver104]

);

// emulation/alt ROM memmory I/F
	output	EROMRDB, EROMWRB, EROMCSB, EROMCLK,
		EROMPA17, EROMPA16, EROMPA15, EROMPA14, EROMPA13,
		EROMPA12, EROMPA11, EROMPA10, EROMPA9, EROMPA8, EROMPA7, EROMPA6,
		EROMPA5, EROMPA4, EROMPA3, EROMPA2, EROMPA1, EROMPA0;
	inout	EROMPD31, EROMPD30, EROMPD29, EROMPD28, EROMPD27, EROMPD26, EROMPD25,
		EROMPD24, EROMPD23, EROMPD22, EROMPD21, EROMPD20, EROMPD19, EROMPD18,
		EROMPD17, EROMPD16, EROMPD15, EROMPD14, EROMPD13, EROMPD12, EROMPD11,
		EROMPD10, EROMPD9, EROMPD8, EROMPD7, EROMPD6, EROMPD5, EROMPD4,
		EROMPD3, EROMPD2, EROMPD1, EROMPD0;

// Firm Debug Output I/F
	output	RDCLKP1_OUT, EXA_OUT, WWR_OUT, CER_OUT, SER_OUT, EXER_OUT, MRG00_OUT, MRG01_OUT, MRG10_OUT,
		MRG11_OUT, MRG12_OUT, DIS_OUT, READ_OUT, FCLK_OUT, PROGI_OUT, BFA_OUT;

// HOST I/F
	input	ICEIFA31, ICEIFA30, ICEIFA29, ICEIFA28, ICEIFA27, ICEIFA26, ICEIFA25, ICEIFA24,
		ICEIFA23, ICEIFA22, ICEIFA21, ICEIFA20, ICEIFA19, ICEIFA18, ICEIFA17, ICEIFA16,
		ICEIFA15, ICEIFA14, ICEIFA13, ICEIFA12, ICEIFA11, ICEIFA10, ICEIFA9, ICEIFA8,
		ICEIFA7, ICEIFA6, ICEIFA5, ICEIFA4, ICEIFA3, ICEIFA2, ICEIFA1, ICEIFA0;
	output	ICEDO31, ICEDO30, ICEDO29, ICEDO28, ICEDO27, ICEDO26, ICEDO25, ICEDO24,
		ICEDO23, ICEDO22, ICEDO21, ICEDO20, ICEDO19, ICEDO18, ICEDO17, ICEDO16,
		ICEDO15, ICEDO14, ICEDO13, ICEDO12, ICEDO11, ICEDO10, ICEDO9, ICEDO8,
		ICEDO7, ICEDO6, ICEDO5, ICEDO4, ICEDO3, ICEDO2, ICEDO1, ICEDO0;
	input	ICEDI31, ICEDI30, ICEDI29, ICEDI28, ICEDI27, ICEDI26, ICEDI25, ICEDI24,
		ICEDI23, ICEDI22, ICEDI21, ICEDI20, ICEDI19, ICEDI18, ICEDI17, ICEDI16,
		ICEDI15, ICEDI14, ICEDI13, ICEDI12, ICEDI11, ICEDI10, ICEDI9, ICEDI8,
		ICEDI7, ICEDI6, ICEDI5, ICEDI4, ICEDI3, ICEDI2, ICEDI1, ICEDI0,
		ICEWR;
	output	EROMWAIT;

// EVA CORE I/F
	input	SVMOD, SVMODF, ALT1, PREFIX;
	input	SLFLASH, FLREAD;
	input	PA19, PA18, PA17, PA16, PA15, PA14, PA13, PA12, PA11, PA10, PA9, PA8, PA7, PA6, PA5, PA4, PA3, PA2;
	output	WAITFL2;
	input	SLMEM;
	input   EXMA3, EXMA2, EXMA1, EXMA0;
	input	MA15, MA14, MA13, MA12, MA11, MA10, MA9, MA8, MA7, MA6, MA5, MA4, MA3, MA2, MA1, MA0;
	input	MDW15, MDW14, MDW13, MDW12, MDW11, MDW10, MDW9, MDW8, MDW7, MDW6, MDW5, MDW4, MDW3, MDW2, MDW1, MDW0;
	output	MEMMDR15, MEMMDR14, MEMMDR13, MEMMDR12, MEMMDR11, MEMMDR10, MEMMDR9, MEMMDR8;
	output	MEMMDR7, MEMMDR6, MEMMDR5, MEMMDR4, MEMMDR3, MEMMDR2, MEMMDR1, MEMMDR0;
	input	CPUWR, CPURD, WDOP;
	output  WAITMEM;

// FLMA OUTPUT
	output	FLMA15, FLMA14, FLMA13, FLMA12, FLMA11, FLMA10, FLMA9, FLMA8,
			FLMA7, FLMA6, FLMA5, FLMA4, FLMA3, FLMA2, FLMA1, FLMA0;

// SLBMEM I/F
	input   SLBMEM, BRSAM;

// FLSPMD I/F
	input   FLSPMD;
//	output  ICEFLSPMD; [SS3rd Ver103] Deleted.

// BSWAP I/F 
	input	BTFLG, TMSPMD, TMBTSEL, RESB;
	output	SWAP, ICETMSPMD, ICETMBTSEL;

// FLASH I/F
	input	CLKSEL1, RDCLKP1, CE0, CE1, EXA;
	input	A19, A18, A17, A16, A15, A14, A13, A12, A11, A10, A9, A8, A7, A6, A5, A4, A3, A2;
	output	RO137, RO136, RO135, RO134, RO133, RO132, RO131, RO130, RO129, RO128, RO127, RO126, RO125,
			RO124, RO123, RO122, RO121, RO120, RO119, RO118, RO117, RO116, RO115, RO114, RO113, RO112, RO111,
			RO110, RO19, RO18, RO17, RO16, RO15, RO14, RO13, RO12, RO11, RO10;
	output	RO037, RO036, RO035, RO034, RO033, RO032, RO031, RO030, RO029, RO028, RO027, RO026, RO025,
			RO024, RO023, RO022, RO021, RO020, RO019, RO018, RO017, RO016, RO015, RO014, RO013, RO012, RO011,
			RO010, RO09, RO08, RO07, RO06, RO05, RO04, RO03, RO02, RO01, RO00;
	input	SELRO1;
	input	CIBPID31, CIBPID30, CIBPID29, CIBPID28, CIBPID27, CIBPID26, CIBPID25, CIBPID24,
		CIBPID23, CIBPID22, CIBPID21, CIBPID20, CIBPID19, CIBPID18, CIBPID17, CIBPID16,
		CIBPID15, CIBPID14, CIBPID13, CIBPID12, CIBPID11, CIBPID10, CIBPID9,  CIBPID8,
		CIBPID7,  CIBPID6,  CIBPID5,  CIBPID4,  CIBPID3,  CIBPID2,  CIBPID1,  CIBPID0;
	output	CPUPID31, CPUPID30, CPUPID29, CPUPID28, CPUPID27, CPUPID26, CPUPID25, CPUPID24,
		CPUPID23, CPUPID22, CPUPID21, CPUPID20, CPUPID19, CPUPID18, CPUPID17, CPUPID16,
		CPUPID15, CPUPID14, CPUPID13, CPUPID12, CPUPID11, CPUPID10, CPUPID9,  CPUPID8,
		CPUPID7,  CPUPID6,  CPUPID5,  CPUPID4,  CPUPID3,  CPUPID2,  CPUPID1,  CPUPID0;
	input	EXCH, WWR, CER, SER, MRG00, MRG01, MRG10, MRG11, MRG12, DIS, READ, FCLK, PROGI, WED, BFA;
	input	DW37, DW36, DW35, DW34, DW33, DW32, DW31, DW30, DW29, DW28, DW27, DW26, DW25,
			DW24, DW23, DW22, DW21, DW20, DW19, DW18, DW17, DW16, DW15, DW14, DW13, DW12, DW11,
			DW10, DW9, DW8, DW7, DW6, DW5, DW4, DW3, DW2, DW1, DW0;
	input	BEU2, BEU1, BEU0;
	output	ICENOECC, ICEFLERR;

// Fail Safe I/F
	output	MAAOUT;

// SELFMODE & SELFMODEDBG Output
	output  SELFMODE;
	output	SELFMODEDBG;

// SELFMODE FAILSAFE SIGNAL
	input   FLMD0;
	input   FAILMK12;
	output  BRKFAIL12;

// BFORE BRK
	input  BFBRKCTL;
	input  BFBRKPID31, BFBRKPID30, BFBRKPID29, BFBRKPID28, BFBRKPID27, BFBRKPID26, BFBRKPID25, BFBRKPID24,
	       BFBRKPID23, BFBRKPID22, BFBRKPID21, BFBRKPID20, BFBRKPID19, BFBRKPID18, BFBRKPID17, BFBRKPID16,
	       BFBRKPID15, BFBRKPID14, BFBRKPID13, BFBRKPID12, BFBRKPID11, BFBRKPID10, BFBRKPID9, BFBRKPID8,
	       BFBRKPID7, BFBRKPID6, BFBRKPID5, BFBRKPID4, BFBRKPID3, BFBRKPID2, BFBRKPID1, BFBRKPID0;
// IAW I/F
	input  GDRAMWR;

// OHTER
	input	CPURESETB, SYSRSOUTB, BASECK, CK60MHZ;
	input	EMEMRAMCLK; // [Ver104]

//-------------------------------------------------------------------------------------------------
	wire [15:0] memmdr1, memmdr2;
	assign {MEMMDR15, MEMMDR14, MEMMDR13, MEMMDR12, MEMMDR11, MEMMDR10, MEMMDR9, MEMMDR8,
					MEMMDR7, MEMMDR6, MEMMDR5, MEMMDR4, MEMMDR3, MEMMDR2, MEMMDR1, MEMMDR0}
			= memmdr1 | memmdr2;

	wire [31:0] icedo1, icedo2;
	assign {ICEDO31, ICEDO30, ICEDO29, ICEDO28, ICEDO27, ICEDO26, ICEDO25, ICEDO24,
		ICEDO23, ICEDO22, ICEDO21, ICEDO20, ICEDO19, ICEDO18, ICEDO17, ICEDO16,
		ICEDO15, ICEDO14, ICEDO13, ICEDO12, ICEDO11, ICEDO10, ICEDO9, ICEDO8,
		ICEDO7, ICEDO6, ICEDO5, ICEDO4, ICEDO3, ICEDO2, ICEDO1, ICEDO0}
		= icedo1 | icedo2;

//78K0R IROM 2005.05.18 taketoshi.ide@necel
//Emulation ROM
	EVA_EMEMROM rom(
		.eromrd_b(EROMRDB), .eromwr_b(EROMWRB), .eromcs_b(EROMCSB), .eromclk(EROMCLK),
		.erompa({EROMPA17, EROMPA16, EROMPA15, EROMPA14, EROMPA13, EROMPA12, EROMPA11, EROMPA10, EROMPA9,
		EROMPA8, EROMPA7, EROMPA6, EROMPA5, EROMPA4, EROMPA3, EROMPA2, EROMPA1, EROMPA0}),
		.erompd({EROMPD31, EROMPD30, EROMPD29, EROMPD28, EROMPD27, EROMPD26, EROMPD25,
		EROMPD24, EROMPD23, EROMPD22, EROMPD21, EROMPD20, EROMPD19, EROMPD18,
		EROMPD17, EROMPD16, EROMPD15, EROMPD14, EROMPD13, EROMPD12, EROMPD11,
		EROMPD10, EROMPD9, EROMPD8, EROMPD7, EROMPD6, EROMPD5, EROMPD4,
		EROMPD3, EROMPD2, EROMPD1, EROMPD0}),
		.rdclkp1_out(RDCLKP1_OUT), .exa_out(EXA_OUT),
		.wwr_out(WWR_OUT), .cer_out(CER_OUT), .ser_out(SER_OUT), .exer_out(EXER_OUT),
		.mrg00_out(MRG00_OUT), .mrg01_out(MRG01_OUT), .mrg10_out(MRG10_OUT), .mrg11_out(MRG11_OUT),
		.mrg12_out(MRG12_OUT), .dis_out(DIS_OUT), .read_out(READ_OUT),
		.fclk_out(FCLK_OUT), .progi_out(PROGI_OUT), .bfa_out(BFA_OUT),
		.iceifa({ICEIFA31, ICEIFA30, ICEIFA29, ICEIFA28, ICEIFA27, ICEIFA26, ICEIFA25, ICEIFA24,
		ICEIFA23, ICEIFA22, ICEIFA21, ICEIFA20, ICEIFA19, ICEIFA18, ICEIFA17, ICEIFA16,
		ICEIFA15, ICEIFA14, ICEIFA13, ICEIFA12, ICEIFA11, ICEIFA10, ICEIFA9, ICEIFA8,
		ICEIFA7, ICEIFA6, ICEIFA5, ICEIFA4, ICEIFA3, ICEIFA2, ICEIFA1, ICEIFA0}),
		.icedo(icedo1),
		.icedi({ICEDI31, ICEDI30, ICEDI29, ICEDI28, ICEDI27, ICEDI26, ICEDI25, ICEDI24,
		ICEDI23, ICEDI22, ICEDI21, ICEDI20, ICEDI19, ICEDI18, ICEDI17, ICEDI16,
		ICEDI15, ICEDI14, ICEDI13, ICEDI12, ICEDI11, ICEDI10, ICEDI9, ICEDI8,
		ICEDI7, ICEDI6, ICEDI5, ICEDI4, ICEDI3, ICEDI2, ICEDI1, ICEDI0}),
		.icewr(ICEWR), .eromwait(EROMWAIT), 
		.svmod(SVMOD), .svmodf(SVMODF), .alt1(ALT1), .prefix(PREFIX),
		.slflash(SLFLASH), .flread(FLREAD),
		.pa({PA19, PA18, PA17, PA16, PA15, PA14, PA13, PA12, PA11, PA10, PA9, PA8, PA7, PA6, PA5, PA4, PA3, PA2}),
		.waitfl2(WAITFL2),
		.slmem(SLMEM), .exma({EXMA3, EXMA2, EXMA1, EXMA0}),
		.ma({MA15, MA14, MA13, MA12, MA11, MA10, MA9, MA8, MA7, MA6, MA5, MA4, MA3, MA2, MA1, MA0}),
		.mdw({MDW15, MDW14, MDW13, MDW12, MDW11, MDW10, MDW9, MDW8, MDW7, MDW6, MDW5, MDW4, MDW3, MDW2, MDW1, MDW0}),
		.memmdr(memmdr1),
		.cpuwr(CPUWR), .cpurd(CPURD), .wdop(WDOP), .waitmem(WAITMEM),
		.slbmem(SLBMEM), .flspmd(FLSPMD),
		.btflg(BTFLG), .tmspmd(TMSPMD), .tmbtsel(TMBTSEL), .swap(SWAP), .icetmspmd(ICETMSPMD),
		.icetmbtsel(ICETMBTSEL), .resb(RESB),
		.clksel1(CLKSEL1), .rdclkp1(RDCLKP1), .ce0(CE0), .ce1(CE1), .exa(EXA),
		.a19_2({A19, A18, A17, A16, A15, A14, A13, A12, A11, A10, A9, A8, A7, A6, A5, A4, A3, A2}), 
		.ro1({RO137, RO136, RO135, RO134, RO133, RO132, RO131, RO130, RO129, RO128, RO127, RO126, RO125,
		RO124, RO123, RO122, RO121, RO120, RO119, RO118, RO117, RO116, RO115, RO114, RO113, RO112, RO111,
		RO110, RO19, RO18, RO17, RO16, RO15, RO14, RO13, RO12, RO11, RO10}),
		.ro0({RO037, RO036, RO035, RO034, RO033, RO032, RO031, RO030, RO029, RO028, RO027, RO026, RO025,
		RO024, RO023, RO022, RO021, RO020, RO019, RO018, RO017, RO016, RO015, RO014, RO013, RO012, RO011,
		RO010, RO09, RO08, RO07, RO06, RO05, RO04, RO03, RO02, RO01, RO00}),
		.selro1(SELRO1),
		.cibpid({CIBPID31, CIBPID30, CIBPID29, CIBPID28, CIBPID27, CIBPID26, CIBPID25, CIBPID24,
			 CIBPID23, CIBPID22, CIBPID21, CIBPID20, CIBPID19, CIBPID18, CIBPID17, CIBPID16,
			 CIBPID15, CIBPID14, CIBPID13, CIBPID12, CIBPID11, CIBPID10, CIBPID9,  CIBPID8,
			 CIBPID7,  CIBPID6,  CIBPID5,  CIBPID4,  CIBPID3,  CIBPID2,  CIBPID1,  CIBPID0}),
		.cpupid({CPUPID31, CPUPID30, CPUPID29, CPUPID28, CPUPID27, CPUPID26, CPUPID25, CPUPID24,
			 CPUPID23, CPUPID22, CPUPID21, CPUPID20, CPUPID19, CPUPID18, CPUPID17, CPUPID16,
			 CPUPID15, CPUPID14, CPUPID13, CPUPID12, CPUPID11, CPUPID10, CPUPID9,  CPUPID8,
			 CPUPID7,  CPUPID6,  CPUPID5,  CPUPID4,  CPUPID3,  CPUPID2,  CPUPID1,  CPUPID0}),
		.exch(EXCH), .wwr(WWR), .cer(CER), .ser(SER), .mrg00(MRG00), .mrg01(MRG01), .mrg10(MRG10),
		.mrg11(MRG11), .mrg12(MRG12), .dis(DIS), .read(READ),
		.fclk(FCLK), .progi(PROGI), .wed(WED), .bfa(BFA),
		.dw({DW37, DW36, DW35, DW34, DW33, DW32, DW31, DW30, DW29, DW28, DW27, DW26, DW25,
		DW24, DW23, DW22, DW21, DW20, DW19, DW18, DW17, DW16, DW15, DW14, DW13, DW12, DW11,
		DW10, DW9, DW8, DW7, DW6, DW5, DW4, DW3, DW2, DW1, DW0}),
		.beu({BEU2, BEU1, BEU0}),
		.icenoecc(ICENOECC), .iceflerr(ICEFLERR),
		.maaout(MAAOUT),
		.selfmode(SELFMODE), .selfmodedbg(SELFMODEDBG), .flmd0(FLMD0), .failmk12(FAILMK12), .brkfail12(BRKFAIL12),
		.bfbrkctl(BFBRKCTL),
		.bfbrkpid(
		{BFBRKPID31, BFBRKPID30, BFBRKPID29, BFBRKPID28, BFBRKPID27, BFBRKPID26, BFBRKPID25, BFBRKPID24,
		BFBRKPID23, BFBRKPID22, BFBRKPID21, BFBRKPID20, BFBRKPID19, BFBRKPID18, BFBRKPID17, BFBRKPID16,
		BFBRKPID15, BFBRKPID14, BFBRKPID13, BFBRKPID12, BFBRKPID11, BFBRKPID10, BFBRKPID9, BFBRKPID8,
		BFBRKPID7, BFBRKPID6, BFBRKPID5, BFBRKPID4, BFBRKPID3, BFBRKPID2, BFBRKPID1, BFBRKPID0}),
		.cpuresetb(CPURESETB), .sysrsoutb(SYSRSOUTB),
		.baseck(BASECK), .ck60mhz(CK60MHZ)
	);

//Emulatiom RAM
//2005.06.20 modify at taketoshi.ide@nms add SVMOD,SVMODF,ALT1
// [Ver104]
	EMEMRAM ram (.slbmem(SLBMEM), .brsam(BRSAM),
		.svmodf(SVMODF), .svmod(SVMOD), .alt1(ALT1), .slmem(SLMEM), .gdramwr(GDRAMWR), .wdop(WDOP), .cpuwr(CPUWR),
		.ma({MA15, MA14, MA13, MA12, MA11, MA10, MA9, MA8, MA7, MA6, MA5, MA4, MA3, MA2, MA1, MA0}),
		.mdw({MDW15, MDW14, MDW13, MDW12, MDW11, MDW10, MDW9, MDW8, MDW7, MDW6, MDW5, MDW4, MDW3, MDW2, MDW1, MDW0}),
		.memmdr(memmdr2),
		.flma({FLMA15, FLMA14, FLMA13, FLMA12, FLMA11, FLMA10, FLMA9, FLMA8,
		FLMA7, FLMA6, FLMA5, FLMA4, FLMA3, FLMA2, FLMA1, FLMA0}),
		.iceifa({ICEIFA31, ICEIFA30, ICEIFA29, ICEIFA28, ICEIFA27, ICEIFA26, ICEIFA25, ICEIFA24,
		ICEIFA23, ICEIFA22, ICEIFA21, ICEIFA20, ICEIFA19, ICEIFA18, ICEIFA17, ICEIFA16,
		ICEIFA15, ICEIFA14, ICEIFA13, ICEIFA12, ICEIFA11, ICEIFA10, ICEIFA9, ICEIFA8,
		ICEIFA7, ICEIFA6, ICEIFA5, ICEIFA4, ICEIFA3, ICEIFA2, ICEIFA1, ICEIFA0}),
		.icedo(icedo2),
		.icedi({ICEDI31, ICEDI30, ICEDI29, ICEDI28, ICEDI27, ICEDI26, ICEDI25, ICEDI24,
		ICEDI23, ICEDI22, ICEDI21, ICEDI20, ICEDI19, ICEDI18, ICEDI17, ICEDI16,
		ICEDI15, ICEDI14, ICEDI13, ICEDI12, ICEDI11, ICEDI10, ICEDI9, ICEDI8,
		ICEDI7, ICEDI6, ICEDI5, ICEDI4, ICEDI3, ICEDI2, ICEDI1, ICEDI0}),
		.icewr(ICEWR), .sysrsoutb(SYSRSOUTB), .baseck(BASECK), .ck60mhz(CK60MHZ), .ememramclk(EMEMRAMCLK) );

endmodule
